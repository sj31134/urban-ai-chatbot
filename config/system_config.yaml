# ğŸ—ï¸ Urban Legal RAG ì‹œìŠ¤í…œ í†µí•© ì„¤ì •
# Neo4j, Vector DB, ì„ë² ë”© ëª¨ë¸ ì„¤ì •

# Neo4j ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
connection:
  uri: ${NEO4J_URI}
  username: ${NEO4J_USER}
  password: ${NEO4J_PASSWORD}
  database: ${NEO4J_DATABASE}

# ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (ChromaDB)
vector_store:
  type: "chromadb"
  persist_directory: "data/vector_db"
  collection_name: "legal_documents"
  distance_function: "cosine"
  
# ì„ë² ë”© ëª¨ë¸ ì„¤ì •
embedding:
  model_name: "sentence-transformers/all-MiniLM-L6-v2"
  model_cache_dir: "models/embeddings"
  batch_size: 32
  device: "cpu"  # or "cuda" if GPU available

# ë¬¸ì„œ ì²˜ë¦¬ ì„¤ì •
document_processing:
  # í…ìŠ¤íŠ¸ ì²­í‚¹ ì „ëµ
  chunk_strategy:
    chunk_size: 512
    chunk_overlap: 50
    separators: ["ì œ", "ì¡°", "í•­", "í˜¸", "ëª©", "\n\n", "\n", " "]
    keep_separator: true
    add_start_index: true
  
  # ì§€ì› íŒŒì¼ í˜•ì‹
  supported_formats: [".pdf", ".docx", ".doc", ".txt"]
  
  # ë²•ë ¹ êµ¬ì¡° ì¸ì‹ íŒ¨í„´
  legal_patterns:
    article: "ì œ(\\d+)ì¡°(ì˜\\d+)?"
    section: "ì œ(\\d+)í¸|ì œ(\\d+)ì¥|ì œ(\\d+)ì ˆ"
    subsection: "â‘ |â‘¡|â‘¢|â‘£|â‘¤|â‘¥|â‘¦|â‘§|â‘¨|â‘©"
    item: "\\d+\\.|ê°€\\.|ë‚˜\\.|ë‹¤\\.|ë¼\\.|ë§ˆ\\.|ë°”\\.|ì‚¬\\.|ì•„\\.|ì\\.|ì°¨\\.|ì¹´\\.|íƒ€\\.|íŒŒ\\.|í•˜\\."

# RAG íŒŒì´í”„ë¼ì¸ ì„¤ì •
rag:
  # ê²€ìƒ‰ ì „ëµ
  retrieval:
    max_results: 10
    similarity_threshold: 0.7
    search_weights:
      keyword: 1.0
      graph_expansion: 0.8
      semantic: 0.9
  
  # ê·¸ë˜í”„ í™•ì¥ ì„¤ì •
  graph_expansion:
    max_depth: 2
    max_nodes: 20
  
  # LLM ì„¤ì •
  llm:
    model: "gemini-1.5-flash"
    temperature: 0.1
    max_tokens: 2048

# ë¡œê¹… ì„¤ì •
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/system.log"
  max_size: "10MB"
  backup_count: 5

# ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
monitoring:
  enable_metrics: true
  query_timing: true
  cache_stats: true
  
# ìºì‹± ì„¤ì •
cache:
  embedding_cache_size: 1000
  query_cache_size: 500
  cache_ttl: 3600  # 1 hour 